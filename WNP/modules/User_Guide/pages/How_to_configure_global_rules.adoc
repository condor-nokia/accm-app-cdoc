include::ROOT:conf/Configuration_properties.adoc[leveloffset=0]

= How to configure global rules

== Introduction

This section provides the steps needed to modify global configurations to the {app-short-name}.
These global configurations apply to all the {vno-initials}s.
Also, when a new {vno-initials} is created on {app-short-name} it automatically inherits the global configurations.

{app-short-name} offers a REST Interface and a WebUI for the {inp-initials} in order to configure the application.

All the configurations done through the REST API are available to be done through the {app-short-name} WebUI.

[NOTE]
====
Before configuring a rule for all the {vno-initials}s you must be authenticated to the {app-short-name} as {inp-initials} user.
Refer to xref:User_Guide:How_to_manage_WNP_access.adoc[How to Manage {app-short-name} access] section to know the details.

====

== Using the {app-short-name} WebUI

To configure global rules using the WebUI, execute the following steps:

. Click the "{vno-initials}s" option on the menu bar displayed on top of the screen.
+
image::VNOs_menu.png[align="center"]

. All {vno-initials}s are listed:
+
image::VNOsSection.png[align="center"]

. Click the "Edit" icon in "{global-identifier}" identifier row.
+
image::globalRulesConfigurationSection.png[align="left"]

image::globalRulesConfigurationSection_basicConfig.png[align="left"]

=== How to configure ONU Activation Option

This section describes how to configure the ONU Activation Option to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_onu_activation[ONU Activation] section.

To configure the ONU Activation options follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Basic configuration" window
+
image::globalRulesConfigurationSection_basicConfig.png[align="left"]

. Select an ONU activation option
+
image::ONUActivationSelectOptions.png[align="left"]

. After selecting the desired ONU Activation option, click *SAVE* button.

=== How to configure VLAN Restrictions

This section describes how to configure the VLAN Restrictions for the service (*l2-user*) to all the {vno-initials}s.

To configure VLAN Restrictions follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Basic configuration" window
+
image::globalRulesConfigurationSection_basicConfig.png[align="left"]

. Click on *Add VLAN Restrictions* button
+
image::VLANRestrictionsConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::VLANRestrictionsAdd.png[align="left"]
+
*From* and *To* must be numeric values.

. Click the *ADD* button.

. After adding the VLAN restrictions, click *SAVE* button.

=== How to configure Allowed ONT Models

This section describes how to configure the ONT Models (ont-type) to all the {vno-initials}s.

To configure the allowed ONT Models follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Basic configuration" window
+
image::globalRulesConfigurationSection_basicConfig.png[align="left"]

. Click the *Add Allowed ONT Models* button
+
image::ONTModelsConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::ONTModelsAdd.png[align="left"]

. Click the *ADD* button.

. After adding the ONT models, click *SAVE* button.

=== How to configure Allowed Services

This section describes how to configure the Allowed Services (*user service profiles*) to all the {vno-initials}s.

To configure Allowed services follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Basic configuration" window
+
image::globalRulesConfigurationSection_basicConfig.png[align="left"]

. Click the *Add Allowed services* button
+
image::AllowedServicesConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::AllowedServicesAdd.png[align="left"]

. Click the *ADD* button.

. After adding the Allowed services, click *SAVE* button.

=== How to configure Allowed Intent Types

This section describes how to configure Allowed Intent Types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_allowed_intent_types[Allowed Intent Types] section.

To configure Allowed intent types follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. Click the *Add Allowed Intent Types* button
+
image::AdvancedAllowedIntentTypesConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::AdvancedAllowedIntentTypeAdd.png[align="left"]

. After selecting an intent type and a version, click the *ADD* button.

. After adding all the intent types with its versions, click *SAVE* button.

==== How to set Intent Type Allowed Action

This section describes how to configure Intent Type Allowed Actions to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_intent_type_allowed_actions[Intent Type Allowed Actions] section.

To configure allowed actions to an intent type follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. Click the *Set intent type allowed action* button on the row of the desired intent type.
+
image::AdvancedAllowedIntentTypesSetIntentTypeAllowedAction.png[align="left"]

. A popup with all allowed actions configured by default is opened:
+
image::AdvancedAllowedIntentTypesSetIntentTypeAllowedActionPopup.png[align="left"]

. Click the *Add allowed action* button.
+
image::AdvancedAllowedIntentTypesSetIntentTypeAllowedActionPopupAddAction.png[align="left"]

. Enter the required data in the popup window.
+
image::AdvancedAllowedIntentTypesSetIntentTypeAllowedActionPopupAddActionInfo.png[align="left"]

. After selecting an action, click the *ADD* button.

. After adding all allowed actions with its versions, click *SAVE* button.

==== How to set Default Versions

This section describes how to configure Default Versions to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_default_versions[Default Versions] section.

To configure default intent type version follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. Click the *Set default version* button on the row of the desired intent type.
+
image::AdvancedAllowedIntentTypesSetDefaultVersion.png[align="left"]

. Select the desired default version
+
image::AdvancedAllowedIntentTypesSetDefaultVersionPopup.png[align="left"]

. Click *SAVE* button.

==== How to set Intent Type Restrictions

This section describes how to configure Data Constraints to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_data_constraints[Data Constraints] section.

To configure intent type restrictions follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. You can set the restrictions, click the *Set intent type restrictions* button.
+
image::AdvancedAllowedIntentTypesSetRestrictions.png[align="left"]

. Click the *Add restriction* button.
+
image::AdvancedAllowedIntentTypesSetRestrictionsPopupConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::AdvancedAllowedIntentTypesSetRestrictionsPopupAdd.png[align="left"]

. Click *SAVE* button.

==== How to set Intent Input Injections

This section describes how to configure the Intent Input Injections to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_intent_input_injections[Intent Input Injections] section.

To configure intent input injections follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. You can set the input injections, click the *Set intent input injection* button.
+
image::AdvancedAllowedIntentTypesSetIntentInputInjections.png[align="left"]

. Click the *Add input injection* button.
+
image::AdvancedAllowedIntentTypesSetIntentInputInjectionsPopupConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::AdvancedAllowedIntentTypesSetIntentInputInjectionsPopupAdd.png[align="left"]

. Click *SAVE* button.

==== How to delete Intent Type and Version

This section describes how to delete allowed intent types and versions to all the {vno-initials}s.

To delete an allowed intent type and version follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. Delete the desired intent type with its version clicking on the *Delete* button.
+
image::AdvancedAllowedIntentTypesDeleteDeleteIntentTypeWithVersion.png[align="left"]

. Select the version to delete.
+
image::AdvancedAllowedIntentTypesDeleteDeleteIntentTypeWithVersionPopup.png[align="left"]

. Click *SAVE* button.

=== How to configure Readable Intent Types

This section describes how to configure the Readable Intent Types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_readable_intent_types[Readable Intent Types] section.

To configure readable intent types follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfigReadableIntentTypes.png[align="left"]

. Click the *Add Readable Intent Types* button
+
image::AdvancedReadableIntentTypesConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::AdvancedReadableIntentTypeAdd.png[align="left"]

. After selecting an intent type, click the *ADD* button.

. After adding all the intent types, click *SAVE* button.

==== How to configure Allowed Intent Attributes

This section describes how to configure the Allowed Intent Attributes for the readable intent types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_allowed_intent_attributes[Allowed Intent Attributes] section.

To configure the allowed intent attributes for a specific readable intent type follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfigReadableIntentTypes.png[align="left"]

. Click the *Set Allowed Intent Attributes* button
+
image::AdvancedReadableIntentTypeConfigureAllowedAttributes.png[align="left"]

. Add or delete the desired attributes of the intent to the allowed list.
+
image::AdvancedReadableIntentTypeConfigureAllowedAttributesAdd.png[align="left"]

. After adding all the attributes, click *SAVE* button.

==== How to delete Readable Intent Types

This section describes how to delete Readable Intent Types to all the {vno-initials}s.

To delete a readable intent type follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfigReadableIntentTypes.png[align="left"]

. Delete the desired intent type clicking on the *Delete* button.
+
image::AdvancedReadableIntentTypeDelete.png[align="left"]

. Click *SAVE* button.

=== How to configure Assigned Network Resources

This section describes how to configure the Assigned Network Resources to all the {vno-initials}s.

The only configuration that can be done globally regarding the network assigned resources feature
is to enable or disable it to all the {vno-initials}s.
Enabling the feature force to assign network resources to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_assigned_network_resources[Assigned Network Resources] section.

To configure Network Assigned Resources as enabled/disabled follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Assigned network resources" section:
+
image::globalRulesConfigurationSection_advancedConfigAssignedNetworkResources.png[align="left"]

. Click the *Configuration* selector
+
image::AdvancedAssignedNetworkResourcesConfigSelect.png[align="left"]

. Select the desired value.
+
image::AdvancedAssignedNetworkResourcesConfigSelectOptions.png[align="left"]

. After selecting the desired value, click *SAVE* button.

=== How to configure Live Collections Configuration

This section describes how configure the Live Collections to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_live_collections[Live Collections Control] section.

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Live Collections Configuration" section
+
image::vnoAdvancedLiveCollectionsConfig.png[align="left"]

. If you want to enable the feature, select "Enabled" value in the selector:
+
image::AdvancedLiveCollectionsConfigEnabledOption.png[align="left"]

. Enter the required data for the *Period*, *Duration* and *Max Simultaneous Collections*.

. Click the *SAVE* button of the general {vno-initials} configuration window.

=== How to configure Blocked Alarm Types

This section describes how to configure Blocked Alarm Types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_blocked_alarm_types[Blocked Alarm Types] section.

To configure blocked alarm types follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. Click the *Add Blocked Alarm Types* button
+
image::AdvancedBlockedAlarmTypesConfig.png[align="left"]

. Enter the required data in the popup window.
+
image::AdvancedBlockedAlarmTypesPopup.png[align="left"]

. After selecting an alarm type, click the *ADD* button.

. After adding all the alarm types, click *SAVE* button.

==== How to delete Blocked Alarm Type

This section describes how to delete Blocked Alarm Types to all the {vno-initials}s.

To delete blocked alarm types follow the next steps:

. Open the editing global window as described in xref:_using_the_wnp_webui[Using the {app-short-name} WebUI] section

. Go to "Advanced configuration" window
+
image::globalRulesConfigurationSection_advancedConfig.png[align="left"]

. Click the *Delete* button.
+
image::AdvancedBlockedAlarmTypesDelete.png[align="left"]

== Using the REST API

=== Configure ONU Activation Option

This section describes how to configure the ONU Activation Option to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_onu_activation[ONU Activation] section.

[NOTE]
====
The option configured globally can be overridden by the option configured to a specific {vno-initials}
To configure {vno-initials} specific option, refer to xref:User_Guide:How_to_configure_a_VNO#_configure_onu_activation_option_to_isp[Configure ONU Activation Option to {vno-initials}] section.
====

==== Update configuration
To configure the ONU Control option to all the {vno-initials}s using the {app-short-name} REST API you must execute the following step:

.  Send a PUT request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/ont-control?type=<OPTION>[https://{altiplano-host}/{wnp-ac-context}/ont-control?type=<OPTION>, window=_blank]
+
Query Parameters::
+
* *type*: It is the option to configure. Possible values are: "None", "INP-Installed_INP-Create", "VNO-Installed_INP-Create" or "VNO-Installed_VNO-Create".
+
====
These values match to those in the WebUI as described:

- *None*: Is the same in the WebUI.
- *INP-Installed_INP-Create*: In the WebUI matches with *By INP*.
- *VNO-Installed_INP-Create*: In the WebUI matches with *By ISP on INP Provided ONT*.
- *VNO-Installed_VNO-Create*: In the WebUI matches with *By ISP*.
====
+
Body::
+
The request body must be empty.
+
For example:: To set the "INP-Installed_INP-Create" option to all the {vno-initials}s a PUT request must be sent to the following URL:
https://{ip-host-example}/wnp-ac/ont-control?type=INP-Installed_INP-Create

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the ONU Control option of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/ont-control[https://{altiplano-host}/{wnp-ac-context}/ont-control,window=_blank]
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/ont-control

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Allowed Intent Types

This section describes how to configure Allowed Intent Types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_allowed_intent_types[Allowed Intent Types] section.

[NOTE]
====
The allowed intent types list configured globally is joined with the list configured for a specific {vno-initials}.
To configure {vno-initials} allow list, refer to xref:User_Guide:How_to_configure_a_VNO#_configure_allowed_intent_types_to_isp[Configure Intent Types to {vno-initials}] section.
====

==== Add configuration
To configure the allowed intent types to all the {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/blacklist[https://{altiplano-host}/{wnp-ac-context}/blacklist,window=_blank]
Body::
The request must contain the following JSON body:
+
[source, json]
----
{
	"intentType": "{IntentTypeName}",
	"intentTypeVersion": "{IntentTypeVersion}"
}
----
- *intentType:* The string that identifies the intent type in the Altiplano. For example: ont, device-fx, fiber, etc.
- *intentTypeVersion:* The number of the version that must be added to the list. Also, the word “All” can be used to allow any version of the intent type.
+
For example:: If you want to allow all the {vno-initials}s to send intent types of type *ont* of any version, the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/blacklist
+
[source, json]
----
{
	"intentType": "ont",
	"intentTypeVersion": "All"
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the allowed intent types of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/blacklist[https://{altiplano-host}/{wnp-ac-context}/blacklist,window=_blank]
+
Body::
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/blacklist

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete an allowed intent type from configuration of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/blacklist?intentType=<INTENT_TYPE>&intentTypeVersion=<INTENT_TYPE_VERSION>[https://{altiplano-host}/{wnp-ac-context}/blacklist?intentType=<INTENT_TYPE>&intentTypeVersion=<INTENT_TYPE_VERSION>,window=_blank]
+
Query Parameters::
+
* *intentType*: It is the allowed intent type to delete.
* *intentTypeVersion*: It is the allowed intent type's version to delete.
+
Body::
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/blacklist?intentType=ont&intentTypeVersion=All

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Intent Type Allowed Actions

This section describes how to configure Intent Type Allowed Actions to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_intent_type_allowed_actions[Intent Type Allowed Actions] section.

[NOTE]
====
The intent type allowed actions list configured globally is joined with the list configured for a specific {vno-initials}.
To configure {vno-initials} allowed actions list, refer to xref:User_Guide:How_to_configure_a_VNO#_configure_intent_type_allowed_actions_to_isp[Configure Intent Type Allowed Actions to {vno-initials}] section.
====

==== Add configuration
To configure the intent type allowed actions to all the {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/allowed-action[https://{altiplano-host}/{wnp-ac-context}/allowed-action,window=_blank]
+
Body::
+
The request must contain the following JSON body:
+
[source, json]
----
{
	"intentType": "{IntentTypeName}",
	"action": "{ActionName}"
}
----
- *intentType:* The string that identifies the intent type in the Altiplano. For example: ont, device-fx, fiber, etc.
- *action:* The string that identifies the action in the Altiplano. For example: hardware-reset-ont-to-default-configuration, reset-statistics, reset-ont, etc. Also, the word "All" can be used to allow all actions.
+
For example:: If you want to allow all the {vno-initials}s to execute all actions for the intent type of type *ont* of any version, the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/allowed-action
+
[source, json]
----
{
	"intentType": "ont",
	"action": "All"
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the intent type allowed actions of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/allowed-action[https://{altiplano-host}/{wnp-ac-context}/allowed-action,window=_blank]
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/allowed-action

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete an intent type allowed action from configuration of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/allowed-action?intentType=<INTENT_TYPE>&action=<ACTION_NAME>[https://{altiplano-host}/{wnp-ac-context}/allowed-action?intentType=<INTENT_TYPE>&action=<ACTION_NAME>,window=_blank]
+
Query Parameters::
+
* *intentType*: It is the action's intent type to delete.
* *action*: It is the action's name to delete.
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/allowed-action?intentType=ont&action=turn-off-ont-laser

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Default Versions

This section describes how to configure Default Versions to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_default_versions[Default Versions] section.

[NOTE]
====
The default versions configured globally are joined with the default versions configured to specific {vno-initials}.
If both a global default version and an {vno-initials} default version are configured for the same intent type and the same attribute, the {vno-initials} default version will be applied.

To configure {vno-initials} specific default versions, refer to xref:User_Guide:How_to_configure_a_VNO#_configure_default_versions_to_isp[Configure Default Versions to {vno-initials}] section.
====

==== Add configuration
To configure the default versions to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/intent-type-default-version[https://{altiplano-host}/{wnp-ac-context}/intent-type-default-version,window=_blank]
+
Body::
+
The request must contain the following JSON body:
+
[source, json]
----
{
	"intentType": "{IntentType}",
	"intentTypeVersion": "{IntentTypeVersion}"
}
----
- *intentType:* The string that identifies the intent type in the {main-base-app}. For example: ont, device-fx, fiber, etc.
- *intentTypeVersion:* The number of the default version that must be configured for the intent type.
+
For example:: If you want to add *6* as default version for the intent type *ont* to all the {vno-initials}s the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/intent-type-default-version
+
[source, json]
----
{
	"intentType": "ont",
	"intentTypeVersion": "6"
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the default versions of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/intent-type-default-version[https://{altiplano-host}/{wnp-ac-context}/intent-type-default-version,window=_blank]
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/intent-type-default-version

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete a default version from configuration of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/intent-type-default-version?intentType=<INTENT_TYPE>[https://{altiplano-host}/{wnp-ac-context}/intent-type-default-version?intentType=<INTENT_TYPE>,window=_blank]
+
Query Parameters::
+
* *intentType*: It is the default version's intent type to delete.
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/intent-type-default-version?intentType=ont

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Data Constraints

This section describes how to configure Data Constraints to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_data_constraints[Data Constraints] section.

[NOTE]
====
The data constraints configured globally are joined with the data constraints configured per {vno-initials}.
When a data constraint is configured for the same intent type, the same intent type version, the same field and the same data type (intent attribute) in both global and {vno-initials}, the data constraint configured in the {vno-initials} will be applied.

To configure {vno-initials} specific data constraints, refer to xref:User_Guide:How_to_configure_a_VNO#_configure_data_constraints_to_isp[Configure Data Constraints to {vno-initials}] section.
====

==== Add configuration
To configure data constraints to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/data-constraint[https://{altiplano-host}/{wnp-ac-context}/data-constraint,window=_blank]
+
Body::
+
The request must contain the following JSON body:
+
[source, json]
----
{
    "intentType": "{IntentType}",
    "intentTypeVersion": "{IntentTypeVersion}",
    "field": "{Field}",
    "dataType": "{DataType}",
    "value": "{Value}"
}
----
- *intentType*: It is the string that identifies the intent type in the {main-base-app}. For examples, ont, device-fx, fiber, etc.
- *intentTypeVersion* : It is the version of the intent type for the new data constraint. If "All" is selected then the data constraint will be applied to any version of the intent type.
- *field*: It is the intent attribute for the new data constraint.
- *dataType*: It is the data type of the new data constraint. For example, string, number, range, list or regexp.
- *value*: Specific value for the new data constraint.
+
For example - Example 1:: if you want to add a data constraint to allow "G-010G-A" and "G-010F-B" values on ont-type attribute for the intent type *ont*, then the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/data-constraint/
+
[source, json]
----
{
    "intentType": "ont",
    "intentTypeVersion": "All",
    "field": "ont-type",
    "dataType": "ProfilesList",
    "value": [
        {
            "profileName": "G-010G-A",
            "profileType": "ont-type",
            "profileSubType": "All",
            "profileVersion": "1"
        },
        {
            "profileName": "G-010F-B",
            "profileType": "ont-type",
            "profileSubType": "All",
            "profileVersion": "1"
        }
    ]
}
----
+
For example - Example 2:: if you want to add a data constraint to allow a value between *10* and *20* in *c-vlan-id* attribute for the intent type *l2-user*, then the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/data-constraint/
+
[source, json]
----
{
    "intentType": "l2-user",
    "intentTypeVersion": "All",
    "field": "c-vlan-id",
    "dataType": "Range",
    "value": {
        "start": "10",
        "end": "20"
    }
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the data constraints of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/data-constraint[https://{altiplano-host}/{wnp-ac-context}/data-constraint,window=_blank]
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/data-constraint

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete a data constraint from configuration of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/data-constraint?intentType=<INTENT_TYPE>&fieldIdentifier=<FIELD_IDENTIFIER>&intentTypeVersion=<INTENT_TYPE_VERSION>[https://{altiplano-host}/{wnp-ac-context}/data-constraint?intentType=<INTENT_TYPE>&fieldIdentifier=<FIELD_IDENTIFIER>&intentTypeVersion=<INTENT_TYPE_VERSION>,window=_blank]
+
Query Parameters::
+
* *intentType*: It is the data constraint's intent type to delete.
* *fieldIdentifier*: It is the data constraint's field identifier to delete.
* *intentTypeVersion*: It is the data constraint's intent type version to delete.
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/data-constraint?intentType=ont&fieldIdentifier=c-vlan-id&intentTypeVersion=All

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Intent Input Injections

This section describes how to configure the Intent Input Injections to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_intent_input_injections[Intent Input Injections] section.

[NOTE]
====
The intent input injections configured globally are joined with the intent input injections configured per {vno-initials}.
When an intent input injection is configured for the same intent type, the same intent type version and the same field in both global and {vno-initials}, the intent input injection configured in the {vno-initials} will be applied.

To configure {vno-initials} specific intent input injections, refer to xref:User_Guide:How_to_configure_a_VNO.adoc#_configure_intent_input_injections_to_isp[Configure Intent Input Injections to {vno-initials}] section.
====

==== Add configuration
To configure intent input injections to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/intent-input-injection[https://{altiplano-host}/{wnp-ac-context}/intent-input-injection,window=_blank]
+
Body::
+
The request must contain the following JSON body:
+
[source, json]
----
{
    "intentType": "{IntentType}",
    "intentTypeVersion": "{IntentTypeVersion}",
    "field": "{Field}",
    "value": "{Value}",
    "overrideWithConfiguredValue": "{OverrideWithConfiguredValue}",
    "hideToVno": "{HideToVno}"
}
----
- *intentType*: It is the string that identifies the intent type in the {main-base-app}. For examples, ont, device-fx, fiber, etc.
- *intentTypeVersion* : It is the version of the intent type. If "All" is selected then the intent input injection will be applied to any version of the intent type.
- *field*: It is the intent attribute.
- *value*: It is the value to configure. It can be a simple value, a predefined function or a JSON value. The predefined functions in this version are: {intent_input_injection_functions}.
- *overrideWithConfiguredValue (optional)*: If true the value sent by the {vno-initials} in the field will be overridden with the configured one. The default value is “false”.
- *hideToVno (optional)*: If true {app-short-name} will remove the field from the yang model so the {vno-initials} will not see it. The default value is “false”. The intent field is also removed from the search and get intent operations.
+
For example - Example 1:: If you want to add an intent input injection to set "model1" value on attribute *ont-type* for the intent type *ont* for its all versions, then the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/intent-input-injection
+
[source, json]
----
{
    "intentType": "ont",
    "intentTypeVersion": "All",
    "field": "ont-type",
    "value": "model1"
}
----
+
For example - Example 2:: If you want to add an intent input injection to set JSON value on attribute *uni-service-configuration* for the intent type *ont* for its all versions, then the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/intent-input-injection
+
[source, json]
----
{
    "intentType": "ont",
    "intentTypeVersion": "All",
    "field": "uni-service-configuration",
    "value": "[{\"uni-id\":\"VEIP\",\"service-profile\":\"default\",\"uni-description\":\"\"},{\"uni-id\":\"LAN1\",\"service-profile\":\"default\",\"uni-description\":\"\"}]",
    "overrideWithConfiguredValue": true
}
----
+
For example - Example 3:: If you want to add an intent input injection to set a predefined function on attribute *ont-description* for the intent type *ont* for its "10" version, then the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/intent-input-injection
+
[source, json]
----
{
    "intentType": "ont",
    "intentTypeVersion": "10",
    "field": "ont-description",
    "value": "{{ADD_ISP_IDENTIFIER}}",
    "overrideWithConfiguredValue": true,
    "hideToVno": false
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the intent input injections of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/intent-input-injection[https://{altiplano-host}/{wnp-ac-context}/intent-input-injection,window=_blank]
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/intent-input-injection

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete an intent input injection of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/intent-input-injection?intentType=<INTENT_TYPE>&fieldIdentifier=<FIELD_IDENTIFIER>&intentTypeVersion=<INTENT_TYPE_VERSION>[https://{altiplano-host}/{wnp-ac-context}/intent-input-injection?intentType=<INTENT_TYPE>&fieldIdentifier=<FIELD_IDENTIFIER>&intentTypeVersion=<INTENT_TYPE_VERSION>,window=_blank]
+
Query Parameters::
+
* *intentType*: It is the intent input injection's intent type to delete.
* *fieldIdentifier*: It is the intent input injection's field identifier to delete.
* *intentTypeVersion*: It is the intent input injection's intent type version to delete.
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/intent-input-injection?intentType=ont&fieldIdentifier=ont-type&intentTypeVersion=All

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Readable Intent Types

This section describes how to configure the Readable Intent Types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_readable_intent_types[Readable Intent Types] section.

==== Add configuration
To configure readable intent types to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/readable-intent-type[https://{altiplano-host}/{wnp-ac-context}/readable-intent-type,window=_blank]
+
Body::
The request must contain the following JSON body:
+
[source, json]
----
{
    "intentType": "{IntentType}"
}
----
- *intentType*: It is the string that identifies the intent type in the {main-base-app}. For examples, device-fx, fiber, l2-infra, device-mf, etc.
+
For example:: If you want to add the "l2-infra" as readable type to all the {vno-initials}s, the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/readable-intent-type
+
[source, json]
----
{
    "intentType": "l2-infra"
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the readable intent types of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/readable-intent-type[https://{altiplano-host}/{wnp-ac-context}/readable-intent-type,window=_blank]
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/readable-intent-type

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete a readable intent type of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/readable-intent-type?intentType=<INTENT_TYPE>[https://{altiplano-host}/{wnp-ac-context}/readable-intent-type?intentType=<INTENT_TYPE>,window=_blank]
+
Query Parameters::
+
* *intentType*: It is the readable intent type to delete.
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/readable-intent-type?intentType=l2-infra

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Configure Allowed Intent Attributes

This section describes how to configure the Allowed Intent Attributes for the readable intent types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_allowed_intent_attributes[Allowed Intent Attributes] section.

==== Add configuration
To configure allowed intent attributes to a readable intent type to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/allowed-intent-attributes[https://{altiplano-host}/{wnp-ac-context}/allowed-intent-attributes,window=_blank]
+
Body::
+
The request must contain the following JSON body:
+
[source, json]
----
{
    "intentType": "{IntentType}",
    "allowedAttributes": [
        "{AllowedAttributes}"
    ]
}
----
- *intentType*: It is the string that identifies the intent type in the {main-base-app}. For examples, device-fx, fiber, l2-infra, device-mf, etc.
- *allowedAttributes*: It is the list of attributes to be allowed to read from IndexSearch by the {vno-initials}s. For example: target, configuration, nested-lists, etc.
+
For example:: If you want to add the "target" and "configuration" attributes as allowed for "l2-infra" readable intent type to all the {vno-initials}s, the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/allowed-intent-attributes
+
[source, json]
----
{
    "intentType": "l2-infra",
    "allowedAttributes": [
        "target",
        "configuration"
    ]
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the readable intent type's allowed intent attributes of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/allowed-intent-attributes[https://{altiplano-host}/{wnp-ac-context}/allowed-intent-attributes,window=_blank]
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/allowed-intent-attributes

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete the allowed intent type attributes associated to a readable intent type of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/allowed-intent-attributes?intentType=<INTENT_TYPE>[https://{altiplano-host}/{wnp-ac-context}/allowed-intent-attributes?intentType=<INTENT_TYPE>,window=_blank]
+
Query Parameters::
+
* *intentType*: It is the readable intent type associated to the attributes to delete.
+
Body::
+
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/readable-intent-type?intentType=l2-infra

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Assigned Network Resources

This section describes how to configure the Assigned Network Resources to all the {vno-initials}s.

The only configuration that can be done globally regarding the network assigned resources feature
is to enable or disable it to all the {vno-initials}s.
Enabling the feature force to assign network resources to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_assigned_network_resources[Assigned Network Resources] section.

==== Update configuration
To enable/disable network assigned resources to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a PUT request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/assigned-resources/config?configType=<CONFIG_TYPE>[https://{altiplano-host}/{wnp-ac-context}/assigned-resources/config?configType=<CONFIG_TYPE>,window=_blank]
+
Query Parameters::
+
* *configType*: It is the string that identifies the enable or disable options. Possible values are: "Enabled" or "Disabled".
+
Body::
The request body must be empty.
+
For example:: To enable the feature the "Enabled" type must be sent: https://{ip-host-example}/{wnp-ac-context}/assigned-resources/config?configType=Enabled

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the network assigned resources of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/assigned-resources/config[https://{altiplano-host}/{wnp-ac-context}/assigned-resources/config,window=_blank]
+
Body::
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/assigned-resources/config

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Live Collections Configuration
This section describes how to configure Live Collections Configuration to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_live_collections[Live Collections] section.

==== Update configuration
To enable/disable live collections configuration to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a PUT request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/live-collection-control/config-mode?configMode=<CONFIG_MODE>[https://{altiplano-host}/{wnp-ac-context}/live-collection-control/config-mode?configMode=<CONFIG_MODE>,window=_blank]
+
Query Parameters::
+
* *configMode*: It is the string that identifies the enable or disable options. Possible values are: "Enabled" or "Disabled".
+
Body::
The request body must be empty.
+
For example:: To enable the feature to all the {vno-initials}s, the "Enabled" type must be sent: https://{ip-host-example}/{wnp-ac-context}/live-collection-control/config-mode?configMode=Enabled

.  Send a PUT request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/live-collection-control[https://{altiplano-host}/{wnp-ac-context}/live-collection-control,window=_blank]
+
Body::
+
The request must contain the following JSON body:
+
[source, json]
----
{
    "maxNumberOfSimultaneousCollections": "{MaxNumberOfSimultaneousCollections}",
    "durationPerCollection": "{DurationPerCollection}",
    "periodPerCollection": "{PeriodPerCollection}"
}
----
- *maxNumberOfSimultaneousCollections*: It is the number of simultaneous collections that {app-short-name} will control when the {vno-initials} executes the live collections. To set an unlimited simultaneous number of live collections the “-1” value must be sent.
- *durationPerCollection*: It is the duration to be used when the {vno-initials} starts a live collection. {app-short-name} will inject this value when the {vno-initials} executes the live collection. Only the ISO8601 format is supported.
- *periodPerCollection*: It is the period to be setted per collection. {app-short-name} will inject this value when the {vno-initials} executes the live collection. Only the ISO8601 format is supported.
+
For example:: If you want to configure live collections control to all the {vno-initials}s with "unlimited" maxNumberOfSimultaneousCollections, "2 months" durationPerCollection and "15 minutes" periodPerCollection, the following body must be sent:
https://{ip-host-example}/{wnp-ac-context}/live-collection-control/
+
[source, json]
----
{
    "maxNumberOfSimultaneousCollections": "-1",
    "durationPerCollection": "P2M",
    "periodPerCollection": "PT15M"
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the live collections configuration of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to get configuration mode of all {vno-initials}s to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/live-collection-control/config-mode[https://{altiplano-host}/{wnp-ac-context}/live-collection-control/config-mode,window=_blank]
+
Body::
The request body must be empty.

For example:: https://{ip-host-example}/{wnp-ac-context}/live-collection-control/config-mode

. Send a GET request to get live collections configuration of all {vno-initials}s to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/live-collection-control[https://{altiplano-host}/{wnp-ac-context}/live-collection-control,window=_blank]
+
Body::
The request body must be empty.

For example:: https://{ip-host-example}/{wnp-ac-context}/live-collection-control

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

=== Configure Blocked Alarm Types

This section describes how to configure Blocked Alarm Types to all the {vno-initials}s.

For more detail of this feature, refer to xref:appendices/features.adoc#_blocked_alarm_types[Blocked Alarm Types] section.

[NOTE]
====
The blocked alarm types configured globally are joined with the blocked alarm types configured per {vno-initials}.
To configure {vno-initials} specific blocked alarm types, refer to xref:User_Guide:How_to_configure_a_VNO#_configure_blocked_alarm_types_to_isp[Configure Blocked Alarm Types to {vno-initials}] section.
====

==== Add configuration
To configure blocked alarm types to all the {vno-initials}s using the {app-short-name} REST API, execute the following step:

.  Send a POST request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/alarm-config[https://{altiplano-host}/{wnp-ac-context}/alarm-config,window=_blank]
+
Body::
+
The request must contain the following JSON body:
+
[source, json]
----
{
    "alarmType": "{AlarmType}"
}
----
- *alarmType*: It is the string that identifies the alarm type in the {main-base-app}. For examples, device-unreachable, backup-failure, device-configuration-error, onu-disabled, etc.
+
For example:: If you want to block the "device-unreachable" alarm type to all the {vno-initials}s, the following body must be sent: https://{ip-host-example}/{wnp-ac-context}/alarm-config/
+
[source, json]
----
{
	"alarmType": "device-unreachable"
}
----

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Get configuration
To get the blocked alarm types of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a GET request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/alarm-config[https://{altiplano-host}/{wnp-ac-context}/alarm-config,window=_blank]
+
Body::
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/alarm-config

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

==== Delete configuration
To delete a blocked alarm type of all {vno-initials}s using the {app-short-name} REST API you must execute the following step:

. Send a DELETE request to the following URL:
link:https://{altiplano-host}/{wnp-ac-context}/alarm-config?alarmType=<ALARM_TYPE>[https://{altiplano-host}/{wnp-ac-context}/alarm-config?alarmType=<ALARM_TYPE>,window=_blank]
+
Query Parameters::
+
* *alarmType*: It is the alarm type to delete which that will no longer be blocked.
+
Body::
The request body must be empty.
+
For example:: https://{ip-host-example}/{wnp-ac-context}/alarm-config?alarmType=device-unreachable

[NOTE]
====
The access token of the {inp-initials} user must be sent in the request as a Bearer Authorization HTTP Header.
To retrieve a token, follow the steps in the xref:How_to_manage_WNP_access.adoc#_rest_apis_proxies_and_kafka_brokers[REST APIs, proxies and kafka brokers] section.
====

include::ROOT:go-back-component.adoc[Back]
